2026-01-14 20:33:06,121 | ERROR | Attendence.student | student.py:35 | show_student_panel() | Failed to fetch open classes
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_sync\connection.py", line 101, in handle_request
    raise exc
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_sync\connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_sync\connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_backends\sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
  File "C:\Users\djadh\AppData\Roaming\uv\python\cpython-3.10.18-windows-x86_64-none\lib\contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\Projects\attendencesys\Attendence\student.py", line 27, in show_student_panel
    .execute()
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\postgrest\_sync\request_builder.py", line 47, in execute
    r = self.request.send()
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\postgrest\base_request_builder.py", line 81, in send
    return self.session.request(
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
  File "C:\Users\djadh\AppData\Roaming\uv\python\cpython-3.10.18-windows-x86_64-none\lib\contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 11001] getaddrinfo failed
2026-01-14 20:34:07,266 | ERROR | Attendence.admin | admin.py:91 | class_controls() | Failed to fetch classes
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_sync\connection.py", line 101, in handle_request
    raise exc
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_sync\connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_sync\connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_backends\sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
  File "C:\Users\djadh\AppData\Roaming\uv\python\cpython-3.10.18-windows-x86_64-none\lib\contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\Projects\attendencesys\Attendence\admin.py", line 88, in class_controls
    classes_resp = supabase.table("classroom_settings").select("*").execute()
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\postgrest\_sync\request_builder.py", line 47, in execute
    r = self.request.send()
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\postgrest\base_request_builder.py", line 81, in send
    return self.session.request(
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
  File "C:\Users\djadh\AppData\Roaming\uv\python\cpython-3.10.18-windows-x86_64-none\lib\contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\djadh\Downloads\Projects\attendencesys\atenv\lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 11001] getaddrinfo failed
2026-01-19 14:01:29,810 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    if "error" in out:
       ^^^^^^^^^^^^^^
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:01:56,455 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    if "error" in out:
       ^^^^^^^^^^^^^^
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:02:11,545 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    if "error" in out:
       ^^^^^^^^^^^^^^
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:02:26,111 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    if "error" in out:
       ^^^^^^^^^^^^^^
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:02:48,141 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    if "error" in out:
       ^^^^^^^^^^^^^^
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:04:08,066 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    try:
         
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:04:29,446 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    try:
         
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:04:45,221 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    try:
         
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:05:14,593 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    try:
         
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:05:25,514 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    try:
         
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:05:37,354 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    try:
         
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:06:05,567 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:171 | normalize_node() | Error in normalize_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 167, in normalize_node
    try:
         
TypeError: argument of type 'NoneType' is not iterable
2026-01-19 14:06:11,200 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:198 | generate_code_node() | Error in generate_code_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 3047, in _generate
    response: GenerateContentResponse = self.client.models.generate_content(
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\models.py", line 5215, in generate_content
    response = self._generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\models.py", line 3997, in _generate_content
    response = self._api_client.request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\_api_client.py", line 1386, in request
    response = self._request(http_request, http_options, stream=False)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\_api_client.py", line 1220, in _request
    return retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 420, in exc_check
    raise retry_exc.reraise()
          ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 187, in reraise
    raise self.last_attempt.result()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\_api_client.py", line 1199, in _request_once
    errors.APIError.raise_for_response(response)
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\errors.py", line 121, in raise_for_response
    cls.raise_error(response.status_code, response_json, response)
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\errors.py", line 146, in raise_error
    raise ClientError(status_code, response_json, response)
google.genai.errors.ClientError: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash-lite\nPlease retry in 48.299750322s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash-lite'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '48s'}]}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 179, in generate_code_node
    try:
         
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 2535, in invoke
    return super().invoke(input, config, stop=stop, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 402, in invoke
    self.generate_prompt(
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1121, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 931, in generate
    self._generate_with_cache(
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1233, in _generate_with_cache
    result = self._generate(
             ^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 3051, in _generate
    _handle_client_error(e, request)
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 145, in _handle_client_error
    raise ChatGoogleGenerativeAIError(msg) from e
langchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Error calling model 'gemini-2.5-flash-lite' (RESOURCE_EXHAUSTED): 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash-lite\nPlease retry in 48.299750322s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash-lite'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '48s'}]}}
2026-01-19 14:06:39,110 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:198 | generate_code_node() | Error in generate_code_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 3047, in _generate
    response: GenerateContentResponse = self.client.models.generate_content(
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\models.py", line 5215, in generate_content
    response = self._generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\models.py", line 3997, in _generate_content
    response = self._api_client.request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\_api_client.py", line 1386, in request
    response = self._request(http_request, http_options, stream=False)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\_api_client.py", line 1220, in _request
    return retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 420, in exc_check
    raise retry_exc.reraise()
          ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 187, in reraise
    raise self.last_attempt.result()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\_api_client.py", line 1199, in _request_once
    errors.APIError.raise_for_response(response)
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\errors.py", line 121, in raise_for_response
    cls.raise_error(response.status_code, response_json, response)
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\errors.py", line 146, in raise_error
    raise ClientError(status_code, response_json, response)
google.genai.errors.ClientError: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash-lite\nPlease retry in 20.393780228s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash-lite'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '20s'}]}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 179, in generate_code_node
    try:
         
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 2535, in invoke
    return super().invoke(input, config, stop=stop, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 402, in invoke
    self.generate_prompt(
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1121, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 931, in generate
    self._generate_with_cache(
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1233, in _generate_with_cache
    result = self._generate(
             ^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 3051, in _generate
    _handle_client_error(e, request)
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 145, in _handle_client_error
    raise ChatGoogleGenerativeAIError(msg) from e
langchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Error calling model 'gemini-2.5-flash-lite' (RESOURCE_EXHAUSTED): 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash-lite\nPlease retry in 20.393780228s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash-lite'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '20s'}]}}
2026-01-19 14:07:11,033 | ERROR | Attendence.services.chatbot_service | chatbot_service.py:200 | generate_code_node() | Error in generate_code_node
Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 3047, in _generate
    response: GenerateContentResponse = self.client.models.generate_content(
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\models.py", line 5215, in generate_content
    response = self._generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\models.py", line 3997, in _generate_content
    response = self._api_client.request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\_api_client.py", line 1386, in request
    response = self._request(http_request, http_options, stream=False)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\_api_client.py", line 1220, in _request
    return retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 420, in exc_check
    raise retry_exc.reraise()
          ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 187, in reraise
    raise self.last_attempt.result()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\AppData\Roaming\uv\python\cpython-3.11.13-windows-x86_64-none\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\tenacity\__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\_api_client.py", line 1199, in _request_once
    errors.APIError.raise_for_response(response)
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\errors.py", line 121, in raise_for_response
    cls.raise_error(response.status_code, response_json, response)
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\google\genai\errors.py", line 146, in raise_error
    raise ClientError(status_code, response_json, response)
google.genai.errors.ClientError: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash-lite\nPlease retry in 48.466342667s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash-lite'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '48s'}]}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\djadh\Downloads\newatt\Attendence\services\chatbot_service.py", line 181, in generate_code_node
    response = gemini_llm.invoke(prompt).content.strip()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 2535, in invoke
    return super().invoke(input, config, stop=stop, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 402, in invoke
    self.generate_prompt(
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1121, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 931, in generate
    self._generate_with_cache(
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1233, in _generate_with_cache
    result = self._generate(
             ^^^^^^^^^^^^^^^
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 3051, in _generate
    _handle_client_error(e, request)
  File "C:\Users\djadh\Downloads\newatt\atenvv\Lib\site-packages\langchain_google_genai\chat_models.py", line 145, in _handle_client_error
    raise ChatGoogleGenerativeAIError(msg) from e
langchain_google_genai.chat_models.ChatGoogleGenerativeAIError: Error calling model 'gemini-2.5-flash-lite' (RESOURCE_EXHAUSTED): 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash-lite\nPlease retry in 48.466342667s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash-lite'}, 'quotaValue': '20'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '48s'}]}}
